<!DOCTYPE html>
<html>
	<head>
		<title>UPR Level Security</title>
		<link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='styles/home.css') }}">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
		<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Open+Sans">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	</head>

	<body>
		<div class="container-fluid">
			<div class="row" style='margin-top:10px; margin-left:10px; margin-right:10px; display: flex;'>
				<div class="col-md-3">
					<span style="display: inline-block; height: 100%; vertical-align: middle"></span><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/ConEd_logo.svg/2000px-ConEd_logo.svg.png" alt="ConEd Logo" width="200" height="40" style="vertical-align: middle">
				</div>
				<div class="col-md-5" style="display: table; height: 40px;">
					<span style="font-size:	24px; color: #0696D4; text-align:center; display: table-cell; vertical-align: middle;">UPR Level Security Monitoring Application</span>
				</div>
				<div class="col-md-4" style="position:relative; display: table; height: 40px">
					<a class="hover" href="{{ url_for('home')}}" style="color: #9facbd; display: table-cell; padding-top: 5px; vertical-align: middle; text-align: center">Home</a>
					<a class="hover" href="{{ url_for('records')}}" style="color: #9facbd; display: table-cell; padding-top: 5px; vertical-align: middle; text-align: center">Full Records</a>
					<a class="hover" href="{{ url_for('logout')}}" style="color: #9facbd; display: table-cell; padding-top: 5px; vertical-align: middle; text-align: center">Logout</a>
				</div>
			</div>
			<hr>
			<div class="row" style="margin-left:10px; margin-right:10px">
				<div class="col-md-12">
					<h2 style="color: #0696D4; text-align:center">Remote Control Display</h2>
					<hr width=50%>
				</div>
			</div>
			<div class="row" style="margin-left:10px; margin-right:10px; margin-bottom: 10px">
				<div id='video-div' class="col-md-12">
					<iframe id ='stream' src = "http://128.197.180.218:5000//"></iframe>
				</div>
			</div>
			<div class="row" style="margin-left:10px; margin-right:10px; text-align:center">
				<div class="col-md-12">
					<button class="btn btn-primary" onclick="runCommand(119)"><i style="font-size:24px" class="fa">&#xf062;</i></button>
					<button class="btn btn-primary" onclick="runCommand(97)"><i style="font-size:24px" class="fa">&#xf060;</i></button>
					<button class="btn btn-primary" onclick="runCommand(32)"><i style="font-size:24px" class="fa">&#xf0c8;</i></button>
					<button class="btn btn-primary" onclick="runCommand(100)"><i style="font-size:24px" class="fa">&#xf061;</i></button>
					<button class="btn btn-primary" onclick="runCommand(115)"><i style="font-size:24px" class="fa">&#xf063;</i></button>
				</div>
			</div>
		</div>
	</body>
</html>

<script type="text/javascript">
	$(document).keypress(function(e){
		keys = [115,119,100,97,32]
		if(keys.indexOf(e.which) > -1) {
			console.log(e.which);
			runCommand(e.which);
		}
	});

	function runCommand(op) {
		$.ajax({
			type: "POST",
			url: "/command",
			data: {"op": op},
			dataType: 'text',
		});
	}
</script>

<style type="text/css">
	body {
        font-family: 'Open Sans';
      }
	#header{
		margin-bottom: 20px;
		margin-top: 20px;
		color: #0696D4;
	}
	#video-div{
		height: 100%;
	}
	#stream{
		border-width: 0px;
		width: 100%;
		height: 440px;
		margin-bottom: 5px;
	}
	li:nth-child(4n) { background: #d3d3d3; }
	li:nth-child(4n-1) { background: #d3d3d3; }
</style>